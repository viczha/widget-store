<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../src/async/PromiseA.js"></script>
</head>
<body>


<script type="text/javascript">
    var emitter = new EventEmitter();

    var fn1 = function (msg) {
        console.log('fn1 fired by t1, message: ' + msg);
    };

    var fn2 = function (msg) {
        console.log('fn2 fired by t2, message: ' + msg);
    };

    var fn3 = function (msg) {
        console.log('fn3 fired by t2, message: ' + msg);
    };

    var deffered = new Deferred();
    var promise = deffered.promise();
    promise.then(fn1, fn2, fn3);

    var d1 = new Deferred();
    var d2 = new Deferred();

    deffered.when(d1.promise(), d2.promise()).then(fn1, fn2, fn3);

    d1.resolve('1');
    d2.resolve('2');
</script>
</body>
</html>